(this.webpackJsonpeditor=this.webpackJsonpeditor||[]).push([[0],{102:function(e,t,n){e.exports=n.p+"static/media/WhatsApp.0e878a0f.svg"},103:function(e,t,n){e.exports=n.p+"static/media/Twitter.1f5a8ef5.png"},104:function(e,t,n){e.exports=n.p+"static/media/Facebook.9ee5d43c.png"},105:function(e,t,n){e.exports=n.p+"static/media/Gmail.598d07e7.png"},106:function(e,t,n){e.exports=n.p+"static/media/Telegram.b4b9d64f.png"},107:function(e,t,n){e.exports=n.p+"static/media/Pinterest.717253e4.png"},108:function(e,t,n){e.exports=n.p+"static/media/Reddit.3826daa7.png"},109:function(e,t,n){e.exports=n.p+"static/media/Tumblr.93e9138a.png"},110:function(e,t,n){e.exports=n.p+"static/media/Skype.5a725d78.png"},111:function(e,t,n){e.exports=n.p+"static/media/FBMessenger.f8b3ffc7.png"},122:function(e){e.exports=JSON.parse('[{"selector":"#templates-button","content":"Templates & Stickers"},{"selector":"#textbox-button","content":"Textbox"},{"selector":"#undo-button","content":"Undo"}]')},140:function(e,t,n){e.exports=n(172)},171:function(e,t,n){},172:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),o=n.n(c),i=n(129),l=n(231),s=n(12),u=n(7),p=n(22),m=n(6),d=n.n(m),f=n(29),b=n(10),g=n(211),v=n(209),h=n(73),E=n.n(h),w=n(72),x=n.n(w),O=n(212),j=n(213),y=n(20),k=n(232),C=n(237);var S=function(e){var t=e.name,n=e.label,a=e.options,c=e.child,o=e.className,i=Object(y.d)(),l=i.control,s=i.watch;return r.a.createElement(y.a,{as:function(e){return r.a.createElement(k.a,Object.assign({select:!0,label:n,fullWidth:!0,className:o,value:s(t)},e),Object.entries(a).map((function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1];return r.a.createElement(C.a,{key:a,value:a},r.a.createElement(c,{label:n,value:a}))})))},control:l,name:t})},N=n(210),T=n(238),L=Object(v.a)((function(e){return{switch:{width:"100%"}}}));var R=function(e){var t=e.name,n=e.label,a=e.className,c=Object(y.d)(),o=c.register,i=c.watch,l=c.setValue,s=L();return r.a.createElement(N.a,{control:r.a.createElement(T.a,{name:t,inputRef:o(),onChange:function(e,n){return l(t,n)},checked:i(t)}),label:n,className:"".concat(s.switch," ").concat(a)})},z=n(39),B=n(75),I=n(37);var W=function(e,t){return function(n){var c=n.open,o=n.onClose,i=Object(B.a)(n,["open","onClose"]);Object(a.useEffect)((function(){c&&(window.location.hash="#"+t,window.addEventListener("popstate",l),I.a.modalview(t))}),[c]);var l=function e(t){var n=t.values;window.removeEventListener("popstate",e),window.location.hash="",o(n)};return r.a.createElement(e,Object(s.a)(Object(s.a)({},i),{},{open:c,onClose:function(e){return l({values:e})}}))}},F=Object(v.a)((function(e){return{form:{padding:e.spacing(2),paddingTop:0},text:{padding:"".concat(e.spacing(3),"px ").concat(e.spacing(2),"px"),whiteSpace:"pre"},applyButton:{marginTop:e.spacing(2)},input:{marginTop:e.spacing(1)}}}));var A=W((function(e){var t=e.onClose,n=e.open,c=e.values,o=e.text,i=Object(y.c)(),l=i.getValues,u=i.handleSubmit,p=i.control,m=i.watch,d=i.reset,f=i.register,b=i.setValue,g=F(),v=function(){t(l())};return Object(a.useEffect)((function(){d(c)}),[c,d]),r.a.createElement(O.a,{onClose:v,open:n},r.a.createElement("div",{className:g.text,style:m()},o),r.a.createElement(y.b,{control:p,watch:m,register:f,setValue:b},r.a.createElement("form",{onSubmit:u(v),className:g.form},r.a.createElement(S,{name:"color",label:"Color",options:z.colors,className:g.input,child:function(e){var t=e.label,n=e.value;return r.a.createElement("span",{style:{color:n}},t)}}),r.a.createElement(S,{name:"backgroundColor",label:"Background Color",options:Object(s.a)({Transparent:"transparent"},z.colors),className:g.input,child:function(e){var t=e.label,n=e.value;return r.a.createElement("span",{style:{color:n}},t)}}),r.a.createElement(S,{name:"textAlign",label:"Text Align",options:z.textAlign,className:g.input,child:function(e){return e.label}}),r.a.createElement(S,{name:"verticalTextAlign",label:"Vertical Text Align",options:z.verticalTextAlign,className:g.input,child:function(e){return e.label}}),r.a.createElement(S,{name:"fontFamily",label:"Font Family",options:z.fontFamilies,className:g.input,child:function(e){var t=e.label,n=e.value;return r.a.createElement("span",{style:{fontFamily:n}},t)}}),r.a.createElement(R,{name:"bold",label:"Bold",className:g.input}),r.a.createElement(R,{name:"caps",label:"Caps",className:g.input}),r.a.createElement(j.a,{fullWidth:!0,className:g.applyButton,type:"submit"},"Apply"))))}),"settings");new URLSearchParams(window.location.search).get("isAndroidApp");var D=function(e){var t=e.createSnapshot,n=e.applySnapshot,r=e.onSnapshotsEmpty,c=Object(a.useContext)(Mn),o=Object(a.useRef)([]),i=function(){var e=t();o.current.push(e),o.current.length>50&&o.current.shift()},l=function(){if(0!==o.current.length){var e=o.current.pop();n(e)}else r()};return Object(a.useEffect)((function(){return c.event.addEventListener("undo",l),c.event.addEventListener("addSnapshot",i),function(){c.event.removeEventListener("undo",l),c.event.removeEventListener("addSnapshot",i)}})),function(){c.event.dispatchEvent(new CustomEvent("addSnapshot"))}},P=n(55),M=n(98),V=n.n(M),H=n(100),_=n.n(H),U=n(34),G=n.n(U),J=n(76),q=n.n(J),X=n(99),Y=n.n(X),K=Object(v.a)((function(e){var t={backgroundColor:"rgba(255, 255, 255, .5)",border:"1px solid black",borderRadius:e.shape.borderRadius,display:function(e){return e.capture&&"none"}},n=Object(s.a)(Object(s.a)({},t),{},{zIndex:20,height:24,position:"absolute",cursor:"pointer"});return{container:{position:"absolute",top:0,display:"flex",flexDirection:"column",alignItems:"center",zIndex:10},rotationHandle:Object(s.a)(Object(s.a)({},t),{},{cursor:"pointer"}),button:Object(s.a)(Object(s.a)({},t),{},{padding:0,marginLeft:e.spacing(1),color:"black"}),action:{position:"absolute",transform:"translateY(-100%)",width:"100%",display:"flex",justifyContent:"center",height:24},resizeHandles:{position:"absolute",height:"100%",width:"100%"},vertical:Object(s.a)(Object(s.a)({},n),{},{top:"100%",left:"50%",transform:"translate(-50%, -50%)",cursor:"ns-resize"}),horizontal:Object(s.a)(Object(s.a)({},n),{},{top:"50%",left:"100%",transform:"translate(-50%, -50%) rotate(-90deg)",cursor:"ew-resize"}),diagonal:Object(s.a)(Object(s.a)({},n),{},{top:"100%",left:"100%",transform:"translate(-50%, -50%) rotate(-45deg)",cursor:"nwse-resize"})}}));var $=function(e){var t=e.controls,n=e.defaultValues,c=e.Child;return function(e){var o=e.onRemove,i=e.handle,l=e.grid,p=e.canvas,m=e.template,f=e.id,v=Object(B.a)(e,["onRemove","handle","grid","canvas","template","id"]),h=Object(a.useContext)(Mn),E=Object(a.useRef)((null===m||void 0===m?void 0:m.rotation)||0),w=Object(a.useRef)(),x=Object(a.useRef)(),O=Object(a.useRef)(!1),j=Object(a.useState)({x:(null===m||void 0===m?void 0:m.x)||0,y:(null===m||void 0===m?void 0:m.y)||0}),y=Object(u.a)(j,2),k=y[0],C=y[1],S=Object(a.useState)((null===m||void 0===m?void 0:m.rotation)||0),N=Object(u.a)(S,2),T=N[0],L=N[1],R=Object(a.useState)((null===m||void 0===m?void 0:m.height)&&m.height-12||n.height),z=Object(u.a)(R,2),I=z[0],W=z[1],F=Object(a.useState)((null===m||void 0===m?void 0:m.width)&&m.width-12||n.width),A=Object(u.a)(F,2),M=A[0],H=A[1],U=Object(a.useState)(!1),J=Object(u.a)(U,2),X=J[0],$=J[1],Q=Object(a.useState)(!1),Z=Object(u.a)(Q,2),ee=Z[0],te=Z[1],ne=Object(a.useState)(!0),ae=Object(u.a)(ne,2),re=ae[0],ce=ae[1],oe=K({capture:X}),ie=Object(a.useMemo)((function(){if(l.enabled)return l.fixedSize?[l.spacing,l.spacing]:[p.clientWidth/l.columns,p.clientHeight/l.rows]}),[l,h.image]),le=D({createSnapshot:function(){return{width:M,height:I,position:k,rotation:T}},applySnapshot:function(e){H(e.width),W(e.height),C(e.position),L(e.rotation)},onSnapshotsEmpty:function(){m||o(f)}}),se=function(e,t){var n=x.current.getBoundingClientRect(),a=n.x+n.width/2,r=n.y+n.height/2,c=Math.atan2(r-t.y,a-t.x)-E.current;return l.enabled&&(c-=c%(Math.PI/4)),c},ue=function(e,t){E.current=se(0,t)},pe=function(){i.onResize&&i.onResize()},me=function(e){var t=-T,n=e.deltaX*Math.sin(t)+e.deltaY*Math.cos(t),a=I+n;if(W(a),i.aspectRatio){var r=a*(1/i.aspectRatio);H(r)}},de=function(e){var t=-T,n=e.deltaX*Math.cos(t)-e.deltaY*Math.sin(t),a=M+n;if(H(M+n),i.aspectRatio){var r=a*i.aspectRatio;W(r)}};return i&&(i.beforeCapturing=function(){$(!0)},i.afterCapturing=function(){$(!1)}),Object(a.useEffect)((function(){if(l.enabled){C({x:k.x-k.x%ie[0],y:k.y-k.y%ie[1]});var e=M-(M+12)%ie[0];H(e);var t=I-(I+12)%ie[1];W(t)}}),[l]),Object(a.useEffect)((function(){var e=function(e){ee&&!w.current.contains(e.target)&&te(!1)};return window.addEventListener("click",e),window.addEventListener("touchstart",e),function(){window.removeEventListener("click",e),window.removeEventListener("touchstart",e)}})),Object(a.useEffect)((function(){Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(requestAnimationFrame);case 2:i.aspectRatio&&(M?W(M*i.aspectRatio):I&&H(I*(1/i.aspectRatio)));case 3:case"end":return e.stop()}}),e)})))()}),[]),r.a.createElement(P.DraggableCore,{onDrag:function(e,t){ee&&(O.current||(le(),O.current=!0),C({x:k.x+t.deltaX,y:k.y+t.deltaY}))},onStop:function(){O.current=!1},grid:ie,handle:"#element-".concat(f),disabled:!re},r.a.createElement("div",{className:"".concat(oe.container," element"),style:{transform:"translate(".concat(k.x,"px, ").concat(k.y,"px) rotate(").concat(T,"rad)"),transformOrigin:"center center",zIndex:n.zIndex||0},ref:w,"data-id":f},r.a.createElement(c,Object.assign({id:f,handle:i,template:m,onFocus:function(){te(!0)},isFocused:ee,toggleMovement:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];ce(e)},dimensions:Object(s.a)(Object(s.a)({width:M,height:I},k),{},{rotation:T}),ref:x,capture:X},v)),ee&&r.a.createElement(r.a.Fragment,null,t.includes("resize")&&r.a.createElement("div",{className:oe.resizeHandles},r.a.createElement(P.DraggableCore,{onDrag:function(e,t){me(t),pe()},onStart:le,grid:ie},r.a.createElement("div",{className:oe.vertical},r.a.createElement(q.a,null))),r.a.createElement(P.DraggableCore,{onDrag:function(e,t){de(t),pe()},onStart:le,grid:ie},r.a.createElement("div",{className:oe.horizontal},r.a.createElement(q.a,null))),r.a.createElement(P.DraggableCore,{onDrag:function(e,t){de(t),me(t),pe()},onStart:le,grid:ie},r.a.createElement("div",{className:oe.diagonal},r.a.createElement(q.a,null)))),r.a.createElement("div",{className:oe.action},t.includes("rotate")&&r.a.createElement(P.DraggableCore,{onStart:function(){ue.apply(void 0,arguments),le()},onStop:function(e,t){E.current=se(0,t)},onDrag:function(e,t){L(se(0,t))}},r.a.createElement(V.a,{className:oe.rotationHandle})),t.includes("edit")&&r.a.createElement(g.a,{className:oe.button,onClick:i.onEditClicked},r.a.createElement(Y.a,null)),t.includes("settings")&&r.a.createElement(g.a,{className:oe.button,onClick:i.onSettingsClicked},r.a.createElement(_.a,null)),t.includes("remove")&&r.a.createElement(g.a,{className:oe.button,onClick:function(){o(f)}},r.a.createElement(G.a,null))))))}},Q=n(101),Z=n.n(Q);var ee=function(e){var t=e.width,n=e.height,a=e.text,r=e.styles;if(t=Math.floor(t),n=Math.floor(n),t<=0||n<=0)return 0;var c=document.createElement("div");c.style.position="absolute",c.style.width=t+"px",c.style.height=n+"px",c.style.whiteSpace="pre-wrap",c.style.fontWeight=r.bold?"bold":null,c.style.textTransform=r.caps?"uppercase":null,Object.assign(c.style,r),c.textContent=a,document.body.appendChild(c);var o=function(e){Z()(e,{multiLine:!0,minFontSize:1,maxFontSize:window.innerHeight});var t=e.querySelector("span"),n=getComputedStyle(t).fontSize;return parseInt(n)}(c);return document.body.removeChild(c),o},te={color:"black",textAlign:"center",fontFamily:"'Impact', fantasy",backgroundColor:"transparent",verticalTextAlign:"center",bold:!1,caps:!0},ne=Object(v.a)((function(e){return{input:{background:"none",border:"none",outline:function(e){return!e.capture&&e.isFocused?"1px dashed gray":"none"},fontSize:24,color:"white",fontFamily:e.typography.fontFamily,textTransform:function(e){return e.settings.caps&&"uppercase"},resize:"none",whiteSpace:"pre-wrap",zIndex:10,padding:6,display:"flex",flexDirection:"column",fontWeight:function(e){return e.settings.bold&&"bold"},userSelect:function(e){return!e.isEditing&&"none"},cursor:function(e){return!e.isEditing&&"move"},justifyContent:function(e){return"top"===e.settings.verticalTextAlign?"flex-start":"bottom"===e.settings.verticalTextAlign?"flex-end":"center"===e.settings.verticalTextAlign?"center":null}}}}));var ae=$({controls:["resize","rotate","edit","settings","remove"],defaultValues:{width:160,height:24,zIndex:2},Child:r.a.forwardRef((function(e,t){var n=e.id,c=e.handle,o=e.template,i=e.onFocus,l=e.isFocused,p=e.toggleMovement,m=e.dimensions,f=Object(s.a)({},te);if(null===o||void 0===o?void 0:o.settings)for(var g in f)o.settings[g]&&(f[g]=o.settings[g]);var v=Object(a.useRef)(),h=Object(a.useRef)(!1),E=Object(a.useState)("Enter Text..."),w=Object(u.a)(E,2),x=w[0],O=w[1],j=Object(a.useState)(!1),y=Object(u.a)(j,2),k=y[0],C=y[1],S=Object(a.useState)(f),N=Object(u.a)(S,2),T=N[0],L=N[1],R=Object(a.useState)(!1),z=Object(u.a)(R,2),B=z[0],I=z[1],W=ne({settings:T,isFocused:l,isEditing:B}),F=D({createSnapshot:function(){return{value:x,settings:T}},applySnapshot:function(e){O(e.value),v.current.textContent=e.value,L(e.settings)},onSnapshotsEmpty:function(){O("Enter Text..."),L(f)}}),P=function(){var e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function e(){p(!0),I(!1),v.current.removeEventListener("focusout",e)},h.current=!0,p(!1),I(!0),v.current.addEventListener("focusout",t),e.next=7,new Promise(requestAnimationFrame);case 7:v.current.focus(),x.toLowerCase()==="Enter Text...".toLowerCase()&&(v.current.textContent="");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();c&&(c.toObject=function(e){var t=e.image,n=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e/(n?t.clientWidth:t.clientHeight)*100+"%"},a={};for(var r in T)T[r]!==f[r]&&(a[r]=T[r]);return{value:x,width:n(m.width+12,!0),height:n(m.height+12),x:n(m.x,!0),y:n(m.y),rotation:m.rotation,settings:a}},c.onEditClicked=P,c.onSettingsClicked=function(){C(!0)});var M=Object(a.useMemo)((function(){return Object(s.a)(Object(s.a)({},T),{},{width:m.width+"px",height:m.height+"px",fontSize:ee(Object(s.a)({styles:T,text:x},m))})}),[x,T,m.width,m.height]);return Object(a.useEffect)((function(){v.current.textContent=x}),[]),Object(a.useEffect)((function(){B||x||(O("Enter Text..."),v.current.textContent="Enter Text...")}),[B]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{contentEditable:B,id:"element-".concat(n),className:"textbox ".concat(W.input),style:M,ref:function(e){v.current=e,t.current=e},onMouseDown:i,onTouchStart:i,onInput:function(e){h.current&&(h.current=!1,F());var t=e.target.textContent;O(t)}}),r.a.createElement(A,{open:k,onClose:function(e){e&&(F(),L(e)),C(!1)},values:T,text:x}))}))}),re=Object(v.a)((function(e){return{form:{padding:e.spacing(2),paddingTop:0},applyButton:{marginTop:e.spacing(2)},input:{marginTop:e.spacing(1)},image:{width:100},imageWrapper:{width:"100%",textAlign:"center",padding:e.spacing(1),boxSizing:"border-box"}}}));var ce=W((function(e){var t=e.onClose,n=e.open,c=e.values,o=e.src,i=Object(y.c)(),l=i.getValues,s=i.handleSubmit,u=i.control,p=i.watch,m=i.reset,d=i.register,f=i.setValue,b=re(),g=function(){t(l())};return Object(a.useEffect)((function(){m(c)}),[c,m]),r.a.createElement(O.a,{onClose:g,open:n},r.a.createElement("div",{className:b.imageWrapper},r.a.createElement("img",{src:o,alt:"",className:b.image,style:{transform:"scaleX(".concat(p("flip")?"-1":"1",")")}})),r.a.createElement(y.b,{control:u,watch:p,register:d,setValue:f},r.a.createElement("form",{onSubmit:s(g),className:b.form},r.a.createElement(R,{name:"keepAspectRatio",label:"Keep Aspect Ratio",className:b.input}),r.a.createElement(R,{name:"flip",label:"Flip",className:b.input}),r.a.createElement(j.a,{fullWidth:!0,className:b.applyButton,type:"submit"},"Apply"))))}),"settings"),oe={keepAspectRatio:!0,flip:!1},ie=Object(v.a)((function(e){return{image:{zIndex:1,cursor:"move"}}}));var le=$({controls:["resize","rotate","remove","settings"],defaultValues:{width:100,zIndex:1},Child:r.a.forwardRef((function(e,t){var n=e.src,c=e.id,o=e.onFocus,i=e.dimensions,l=e.handle,s=ie(),p=Object(a.useRef)(),m=Object(a.useState)(oe),d=Object(u.a)(m,2),f=d[0],b=d[1],g=Object(a.useState)(!1),v=Object(u.a)(g,2),h=v[0],E=v[1],w={width:i.width+"px",height:i.height+"px",transform:"scaleX(".concat(f.flip?"-1":"1",")")};return l&&(l.onSettingsClicked=function(){return E(!0)},f.keepAspectRatio?Object.defineProperty(l,"aspectRatio",{get:function(){var e,t;return(null===(e=p.current)||void 0===e?void 0:e.naturalHeight)/(null===(t=p.current)||void 0===t?void 0:t.naturalWidth)},configurable:!0}):delete l.aspectRatio),r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:n,alt:"",id:"element-".concat(c),ref:function(e){t.current=e,p.current=e},onMouseDown:o,onTouchStart:o,style:w,className:s.image,draggable:"false"}),r.a.createElement(ce,{open:h,onClose:function(e){e&&b(e),E(!1)},values:f,src:n}))}))});function se(e,t,n,a,r){e.beginPath(),e.moveTo(t,n),e.lineTo(a,r),e.stroke()}var ue=Object(v.a)((function(e){return{canvas:{position:"absolute",pointerEvents:"none",touchAction:"none"}}}));var pe=function(e){var t,n=e.config,c=e.canvas,o=e.border,i=ue(),l=Object(a.useContext)(Mn),s=Object(a.useRef)(),u=function(){var e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(requestAnimationFrame);case 2:t=c.getBoundingClientRect(),s.current.width=t.width,s.current.height=t.height;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(e,n){for(var a=0;a<s.current.width;a+=e)se(t,a,0,a,s.current.height);for(var r=0;r<s.current.height;r+=n)se(t,0,r,s.current.width,r)},m=function(){(t=s.current.getContext("2d")).strokeStyle=n.color,n.fixedSpacing?n.spacing&&p(n.spacing,n.spacing):function(){if(n.columns&&n.rows&&c){var e=c.clientWidth/n.columns,t=c.clientHeight/n.rows;p(e,t)}}()};return Object(a.useEffect)((function(){c&&u().then(m)}),[c,n,l.image,o]),r.a.createElement("canvas",{ref:s,style:{display:!n.enabled&&"none"},className:i.canvas})},me=n(214),de=n(215),fe=Object(v.a)((function(e){return{form:{padding:e.spacing(2),paddingTop:0},applyButton:{marginTop:e.spacing(2)},input:{marginTop:e.spacing(1)}}}));var be=W((function(e){var t=e.onClose,n=e.open,c=e.values,o=Object(y.c)(),i=o.register,l=o.getValues,s=o.handleSubmit,u=o.control,p=o.watch,m=o.reset,d=o.setValue,f=fe(),b=function(){var e=l();t(e)};return Object(a.useEffect)((function(){m(c)}),[c,m]),r.a.createElement(O.a,{onClose:b,open:n},r.a.createElement(me.a,null,"Set Border"),r.a.createElement(y.b,{control:u,watch:p,register:i,setValue:d},r.a.createElement("form",{onSubmit:s(b),className:f.form},r.a.createElement(de.a,null,r.a.createElement(k.a,{inputRef:i(),className:f.input,fullWidth:!0,type:"number",name:"size",label:"Size (px)"}),r.a.createElement(S,{name:"color",label:"Color",options:z.colors,className:f.input,child:function(e){var t=e.label,n=e.value;return r.a.createElement("span",{style:{color:n}},t)}}),r.a.createElement(R,{name:"top",label:"Top",className:f.input}),r.a.createElement(R,{name:"bottom",label:"Bottom",className:f.input}),r.a.createElement(R,{name:"left",label:"Left",className:f.input}),r.a.createElement(R,{name:"right",label:"Right",className:f.input}),r.a.createElement(j.a,{fullWidth:!0,className:f.applyButton,type:"submit"},"Apply")))))}),"border"),ge=n(217),ve=n(132),he=n(56),Ee=n(239),we=n(114),xe=n.n(we),Oe=n(113),je=n.n(Oe),ye=n(112),ke=n.n(ye),Ce=n(115),Se=n.n(Ce),Ne=n(234),Te=n(102),Le=n.n(Te),Re=n(103),ze=n.n(Re),Be=n(104),Ie=n.n(Be),We=n(105),Fe=n.n(We),Ae=n(106),De=n.n(Ae),Pe=n(107),Me=n.n(Pe),Ve=n(108),He=n.n(Ve),_e=n(109),Ue=n.n(_e),Ge=n(110),Je=n.n(Ge),qe=n(111),Xe=n.n(qe),Ye=Object(v.a)((function(e){return{innerDrawer:{borderRadius:"16px 16px 0 0"},title:{paddingBottom:e.spacing(1)},iconsContainer:{display:"flex",padding:"0 ".concat(e.spacing(1),"px ").concat(e.spacing(2),"px ").concat(e.spacing(1),"px"),overflowX:"scroll"},icon:{width:40}}}));var Ke=function(e){var t=e.open,n=e.link,c=e.onClose,o=e.onOpen;n=encodeURIComponent(n);var i=Object(a.useContext)(Mn),l=Ye(),s=function(e,t){return function(){i.event.dispatchEvent(new CustomEvent("share",{detail:{label:t}})),window.open(e.replace(/{}/g,n))}};return r.a.createElement(Ne.a,{disableDiscovery:!0,disableSwipeToOpen:!0,open:t,onClose:c,onOpen:o,anchor:"bottom",PaperProps:{className:l.innerDrawer}},r.a.createElement(me.a,{className:l.title},"Share Link"),r.a.createElement("div",{className:l.iconsContainer},r.a.createElement(g.a,{onClick:s("whatsapp://send?text={}","WhatsApp")},r.a.createElement("img",{src:Le.a,alt:"WhatsApp",className:l.icon})),r.a.createElement(g.a,{onClick:s("https://www.facebook.com/sharer/sharer.php?u={}","Facebook")},r.a.createElement("img",{src:Ie.a,alt:"Facebook",className:l.icon})),r.a.createElement(g.a,{onClick:s("http://twitter.com/intent/tweet?text={}","Twitter")},r.a.createElement("img",{src:ze.a,alt:"Twitter",className:l.icon})),r.a.createElement(g.a,{onClick:s("https://telegram.me/share?url={}","Telegram")},r.a.createElement("img",{src:De.a,alt:"Telegram",className:l.icon})),r.a.createElement(g.a,{onClick:s("https://web.skype.com/share?url={}","Skype")},r.a.createElement("img",{src:Je.a,alt:"Skype",className:l.icon})),r.a.createElement(g.a,{onClick:s("fb-messenger://share?link={}","FB-Messenger")},r.a.createElement("img",{src:Xe.a,alt:"Messenger",className:l.icon})),r.a.createElement(g.a,{onClick:s("https://www.pinterest.com/pin/create/button?url={}","Pinterest")},r.a.createElement("img",{src:Me.a,alt:"Pinterest",className:l.icon})),r.a.createElement(g.a,{onClick:s("https://www.reddit.com/submit?url={}","Reddit")},r.a.createElement("img",{src:He.a,alt:"Reddit",className:l.icon})),r.a.createElement(g.a,{onClick:s("https://www.tumblr.com/widgets/share/tool?posttype=link&canonicalUrl={}","Tumblr")},r.a.createElement("img",{src:Ue.a,alt:"Tumblr",className:l.icon})),r.a.createElement(g.a,{onClick:s("mailto:?body={}","Mail")},r.a.createElement("img",{src:Fe.a,alt:"Email",className:l.icon}))))};var $e=function(e,t){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],r=atob(n[1]),c=r.length,o=new Uint8Array(c);c--;)o[c]=r.charCodeAt(c);return new File([o],t,{type:a})},Qe="caches"in window;function Ze(e){return et.apply(this,arguments)}function et(){return(et=Object(b.a)(d.a.mark((function e(t){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Qe){e.next=4;break}return e.next=3,fetch(t);case 3:return e.abrupt("return",e.sent);case 4:return e.next=6,caches.open("v1");case 6:return n=e.sent,e.next=9,n.match(t);case 9:if(a=e.sent,navigator.onLine){e.next=12;break}return e.abrupt("return",a);case 12:return e.next=14,fetch(t);case 14:return r=e.sent,n.put(t,r.clone()),e.abrupt("return",r);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tt(e){return nt.apply(this,arguments)}function nt(){return(nt=Object(b.a)(d.a.mark((function e(t){var n,a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Qe){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,caches.open("v1");case 4:return n=e.sent,e.next=7,n.match(t);case 7:if(a=e.sent){e.next=10;break}return e.abrupt("return",t);case 10:return e.next=12,a.blob();case 12:return r=e.sent,c=URL.createObjectURL(r),e.abrupt("return",c);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function at(e){return rt.apply(this,arguments)}function rt(){return(rt=Object(b.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Qe){e.next=2;break}return e.abrupt("return");case 2:if(0!==t.indexOf("blob")){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,caches.open("v1");case 6:return n=e.sent,e.next=9,n.match(t);case 9:if(e.sent){e.next=15;break}return e.next=13,fetch(t);case 13:a=e.sent,n.put(t,a);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(e){return"".concat(window.location.protocol,"//").concat(window.location.hostname).concat("","/api").concat(e)}var ot=function(e){return fetch(ct("/templates"),{method:"POST",body:e})},it=function(e){return fetch(ct("/auth/authorize"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e})}).then((function(e){return e.json()}))},lt=function(e){return fetch(ct("/stickers"),{method:"POST",body:e})},st=function(e){return fetch(ct("/stickers/register-use"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})})},ut=function(e){return fetch("/upload",{method:"POST",body:e})};function pt(){return(pt=Object(b.a)(d.a.mark((function e(t){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t),e.prev=2,e.next=5,ut(n);case 5:return a=e.sent,e.next=8,a.json();case 8:return r=e.sent,e.abrupt("return","https://"+window.location.host+r.path);case 12:return e.prev=12,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return");case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}var mt=function(e){return pt.apply(this,arguments)},dt=Object(v.a)((function(e){var t={margin:e.spacing(2),marginTop:0};return{spacing:t,title:{textAlign:"center"},innerDialog:{margin:e.spacing(1),width:function(e){return!e.imageData&&"100%"},height:function(e){return!e.imageData&&"50%"},display:function(e){return!e.imageData&&"flex"},justifyContent:function(e){return!e.imageData&&"center"},alignItems:function(e){return!e.imageData&&"center"}},image:{width:"90%",margin:"".concat(e.spacing(2),"px auto")},uploadButtonWrapper:Object(s.a)(Object(s.a)({},t),{},{position:"relative"}),buttonLoader:{position:"absolute",top:"50%",left:"50%",margin:"-12px 0 0 -12px"},linkWrapper:{margin:e.spacing(2),marginTop:0,padding:"0 ".concat(e.spacing(1),"px"),display:"flex",justifyContent:"space-between",alignItems:"center"},link:{overflowX:"scroll",padding:"".concat(e.spacing(1),"px 0")},shareButton:{padding:e.spacing(1)},terms:Object(s.a)(Object(s.a)({},t),{},{color:e.palette.text.secondary}),archiveLink:{color:e.palette.text.secondary},snackbarClose:{color:e.palette.primary.variant}}}));var ft=W((function(e){var t=e.open,n=e.onClose,c=e.imageData,o=e.elements,i=Object(a.useContext)(Mn),l=dt({imageData:c}),s=Object(y.c)(),p=s.register,m=s.getValues,v=Object(a.useRef)(!1),h=Object(a.useState)(),E=Object(u.a)(h,2),w=E[0],x=E[1],C=Object(a.useState)(!1),S=Object(u.a)(C,2),N=S[0],T=S[1],L=Object(a.useState)(!1),R=Object(u.a)(L,2),z=R[0],B=R[1],I=Object(a.useState)(!1),W=Object(u.a)(I,2),F=W[0],A=W[1],D=Object(a.useState)(!1),P=Object(u.a)(D,2),M=P[0],V=P[1],H=function(e,t){return i.event.dispatchEvent(new CustomEvent(e,{detail:t}))},_=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.currentTemplate){e.next=4;break}if(v.current){e.next=4;break}return e.next=4,r=i.currentTemplate.id,fetch(ct("/templates/register-use"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:r})});case 4:t=Object(f.a)(o),e.prev=5,t.s();case 7:if((n=t.n()).done){e.next=14;break}if("sticker"!==(a=n.value).type||void 0===a.data.id){e.next=12;break}return e.next=12,st(a.data.id);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),t.e(e.t0);case 19:return e.prev=19,t.f(),e.finish(19);case 22:v.current=!0;case 23:case"end":return e.stop()}var r}),e,null,[[5,16,19,22]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),t=$e(c,"image.png"),e.next=4,mt(t);case 4:n=e.sent,T(!1),x(n),_(),H("uploadImage",{link:n});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){B(!0),H("openShareModal")},q=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m("label")){e.next=2;break}return e.abrupt("return");case 2:t=m("label"),n=$e(i.image,"image.png"),a={textboxes:window.getTextboxes(),border:window.getBorder()},(r=new FormData).append("password",i.password),r.append("image",n),r.append("label",t),r.append("meta_data",JSON.stringify(a)),ot(r).then((function(e){e.ok&&(V(!0),A(!0))}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){t||x(null)}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{open:t,onClose:function(){v.current=!1,V(!1),n()},PaperProps:{className:l.innerDialog}},c?r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{alt:"",src:c,className:l.image}),r.a.createElement(ve.a,{variant:"outlined",className:l.linkWrapper,style:{display:!w&&"none"}},r.a.createElement(he.a,{variant:"body1",className:l.link},w),r.a.createElement(g.a,{className:l.shareButton,onClick:J},r.a.createElement(ke.a,null))),!w&&r.a.createElement("div",{className:l.uploadButtonWrapper},r.a.createElement(j.a,{startIcon:r.a.createElement(je.a,null),color:"primary",variant:"outlined",onClick:U,disabled:N,style:{width:"100%"}},"Create Link"),N&&r.a.createElement(ge.a,{size:24,className:l.buttonLoader})),r.a.createElement(j.a,{startIcon:r.a.createElement(xe.a,null),color:"primary",variant:"outlined",className:l.spacing,onClick:function(){!function(e){var t=document.createElement("a");t.href=e,t.download="download.png",document.body.appendChild(t),t.click(),document.body.removeChild(t)}(c),_(),H("downloadImage")}},"Download"),r.a.createElement(he.a,{variant:"caption",className:l.terms},'By clicking on "Create Link" the image above will be uploaded to our servers and therefor be visible in the ',r.a.createElement("a",{href:"/archive",target:"_blank",className:l.archiveLink},"Archive"),"."),i.password&&!i.currentTemplate&&!M&&r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{inputRef:p(),name:"label",label:"Label",className:l.spacing,variant:"outlined",defaultValue:i.label}),r.a.createElement(j.a,{startIcon:r.a.createElement(Se.a,null),color:"primary",variant:"outlined",className:l.spacing,onClick:q},"Publish Template")),r.a.createElement(Ke,{open:z,link:w,onOpen:J,onClose:function(){return B(!1)}})):r.a.createElement(ge.a,null)),r.a.createElement(Ee.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:F,autoHideDuration:3e3,onClose:function(){return A(!1)},message:"Uploaded",action:r.a.createElement(g.a,{onClick:function(){return A(!1)},className:l.snackbarClose},r.a.createElement(G.a,null))}))}),"image"),bt=Object(v.a)((function(e){return{form:{padding:e.spacing(2),paddingTop:0},applyButton:{marginTop:e.spacing(2)},input:{marginTop:e.spacing(1)}}}));var gt=W((function(e){var t=e.onClose,n=e.open,c=e.values,o=Object(y.c)(),i=o.register,l=o.getValues,s=o.handleSubmit,p=o.control,m=o.watch,d=o.reset,f=o.setValue,b=bt(),g=Object(a.useState)(!1),v=Object(u.a)(g,2),h=v[0],E=v[1],w=function(){var e=l();!e.fixedSpacing||e.spacing?(E(!1),e.spacing=parseInt(e.spacing),t(e)):E(!0)};return Object(a.useEffect)((function(){d(c)}),[c,d]),r.a.createElement(O.a,{onClose:w,open:n},r.a.createElement(me.a,null,"Set Grid"),r.a.createElement(y.b,{control:p,watch:m,register:i,setValue:f},r.a.createElement("form",{onSubmit:s(w),className:b.form},r.a.createElement(de.a,null,r.a.createElement(R,{name:"enabled",label:"Enabled",className:b.input}),r.a.createElement(R,{name:"fixedSpacing",label:"Fixed Spacing",className:b.input}),r.a.createElement(S,{name:"color",label:"Color",options:z.colors,className:b.input,child:function(e){var t=e.label,n=e.value;return r.a.createElement("span",{style:{color:n}},t)}}),r.a.createElement(k.a,{inputRef:i(),className:b.input,fullWidth:!0,type:"number",name:"columns",label:"Columns"}),r.a.createElement(k.a,{inputRef:i(),className:b.input,fullWidth:!0,type:"number",name:"rows",label:"Rows"}),r.a.createElement(k.a,{inputRef:i(),className:b.input,fullWidth:!0,type:"number",name:"spacing",label:"Spacing (px)",error:h}),r.a.createElement(j.a,{fullWidth:!0,className:b.applyButton,type:"submit"},"Apply")))))}),"grid"),vt=function(e){return new Promise((function(t){var n=new FileReader;n.onload=function(){return t(n.result)},n.readAsDataURL(e)}))},ht=function(e){return new Promise((function(t){var n=document.createElement("input");n.type="file",n.accept=e,document.body.appendChild(n),n.onchange=function(e){var n=e.target.files[0];t(n)},n.click(),n.remove()}))},Et=n(116),wt=n.n(Et);function xt(e){var t=e.querySelectorAll(".textbox");t.forEach((function(e){var t=Math.min(e.offsetHeight/18,6);e.style.padding="".concat(6-t,"px ").concat(6,"px ").concat(6+t,"px")}));var n=Array.from(e.querySelectorAll(".element"));if(n.length>0){var a=n[0].parentNode;n.map((function(e){return a.removeChild(e)})).reverse().map((function(e){return a.appendChild(e)}))}var r=e.querySelector(".meme-image");r.style.minWidth=r.clientWidth+1+"px",r.style.minHeight=r.clientHeight+1+"px"}function Ot(){return(Ot=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wt()(t,{useCORS:!0,onclone:xt});case 2:return n=e.sent,e.abrupt("return",n.toDataURL());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jt=function(e){return Ot.apply(this,arguments)};function yt(e){var t=getComputedStyle(e);return{width:e.clientWidth-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight),height:e.clientHeight-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)}}function kt(){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(b.a)(d.a.mark((function e(){var t,n,a=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.length>0&&void 0!==a[0]?a[0]:1,n=0;case 2:if(!(n<t)){e.next=8;break}return e.next=5,new Promise(requestAnimationFrame);case 5:n++,e.next=2;break;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var St={size:0,top:!0,bottom:!0,left:!1,right:!1,color:"white"},Nt={enabled:!1,fixedSpacing:!1,color:"black",spacing:void 0,columns:16,rows:16},Tt=Object(v.a)((function(e){return{canvasWrapper:{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:e.palette.background.default,padding:e.spacing(1),paddingBottom:e.mixins.toolbar.minHeight+e.spacing(1),display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},canvas:{position:"relative",display:"flex"}}}));var Lt=function(){var e=Object(a.useContext)(Mn),t=Tt(),n=Object(a.useRef)(0),c=Object(a.useRef)(),o=Object(a.useRef)(),i=Object(a.useRef)(),l=Object(a.useRef)({}),s=Object(a.useState)([]),m=Object(u.a)(s,2),v=m[0],h=m[1],w=Object(a.useState)(St),O=Object(u.a)(w,2),j=O[0],y=O[1],k=Object(a.useState)(Nt),C=Object(u.a)(k,2),S=C[0],N=C[1],T=Object(a.useState)(!1),L=Object(u.a)(T,2),R=L[0],z=L[1],B=Object(a.useState)(!1),I=Object(u.a)(B,2),W=I[0],F=I[1],A=Object(a.useState)(!1),D=Object(u.a)(A,2),P=D[0],M=D[1],V=Object(a.useState)(null),H=Object(u.a)(V,2),_=H[0],U=H[1];l.current={};var G,J=Object(f.a)(v);try{for(J.s();!(G=J.n()).done;){var q=G.value;l.current[q.key]={}}}catch(de){J.e(de)}finally{J.f()}var X=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!1),e.next=3,kt(3);case 3:U(null);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(e){var t=v.filter((function(t){return t.key!==e}));h(t),delete l.current[e]},K=function(){h([]),l.current={}},$=function(e,t){return{type:e,data:t,key:n.current++}},Q=function(e){var t=e.template,n=$("textbox",{template:t});return h([].concat(Object(p.a)(v),[n])),n},Z=function(e,t){var n=$("sticker",{src:e,id:t});h([].concat(Object(p.a)(v),[n]))},ee=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ht("image/*");case 2:return t=e.sent,e.next=5,vt(t);case 5:n=e.sent,Z(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object.values(l.current).forEach((function(e){return e.beforeCapturing()})),e.next=3,kt(3);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var t=Object(b.a)(d.a.mark((function t(){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ht("image/*");case 2:return n=t.sent,t.next=5,vt(n);case 5:a=t.sent,K(),e.set({currentTemplate:null,image:a});case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),re=function(){var e=Object(b.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.next=3,kt(1);case 3:return n=document.querySelector(".".concat(t.canvas)),e.next=6,te(n);case 6:return e.next=8,jt(n);case 8:a=e.sent,U(a),Object.values(l.current).forEach((function(e){return e.afterCapturing()}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){z(!0)},oe=function(){M(!0)},ie=function(){var t=Object(b.a)(d.a.mark((function t(n){var a,r,o,i,l,s,u,p;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.detail.template,e.set({currentTemplate:a,image:a.image_url}),t.next=4,kt(2);case 4:if(r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(/\d+%/.test(e[t])){var a=parseFloat(e[t]);e[t]=(n?c.current.clientWidth:c.current.clientHeight)*(a/100)}},K(),v=[],a.meta_data){t.next=9;break}return t.abrupt("return");case 9:if(o=a.meta_data.border,i=a.meta_data.textboxes,"string"===typeof(null===o||void 0===o?void 0:o.size)&&r(o,"size"),y(o||St),i){l=Object(f.a)(i);try{for(l.s();!(s=l.n()).done;)u=s.value,r(u,"width",!0),r(u,"height"),r(u,"x",!0),r(u,"y"),p=Q({template:u}),v.push(p)}catch(de){l.e(de)}finally{l.f()}}h(v);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),se=function(e){var t=e.detail.sticker;Z(t.image_url,t.id)},ue=function(){return v.filter((function(e){return"textbox"===e.type})).map((function(e){return e.key})).map((function(e){return l.current[e].toObject({image:c.current})}))},me=function(){return j};return Object(a.useEffect)((function(){return e.event.addEventListener("importImage",ne),e.event.addEventListener("addTextbox",Q),e.event.addEventListener("importSticker",ee),e.event.addEventListener("generateImage",re),e.event.addEventListener("setBorder",ce),e.event.addEventListener("setGrid",oe),e.event.addEventListener("loadTemplate",ie),e.event.addEventListener("loadSticker",se),window.getTextboxes=ue,window.getBorder=me,function(){e.event.removeEventListener("importImage",ne),e.event.removeEventListener("addTextbox",Q),e.event.removeEventListener("importSticker",ee),e.event.removeEventListener("generateImage",re),e.event.removeEventListener("setBorder",ce),e.event.removeEventListener("setGrid",oe),e.event.removeEventListener("loadTemplate",ie),e.event.removeEventListener("loadSticker",se)}})),Object(a.useEffect)((function(){Object(b.a)(d.a.mark((function e(){var t,n,a,r,l,s,u,p,m,f;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(1);case 2:if(c.current&&i.current&&o.current){e.next=4;break}return e.abrupt("return");case 4:t=c.current.naturalWidth,n=c.current.naturalHeight,a=n/t,r=yt(i.current),l=r.width,s=r.height,l*a>s?(32,m=(j.top||0+j.bottom||0)*j.size,u=(p=s-32-m)*(1/a)):(f=(j.left||0+j.right||0)*j.size,p=(u=l-f)*a),u=Math.floor(u),p=Math.floor(p),c.current.style.width=u+"px",c.current.style.height=p+"px",o.current.style.width=u+"px",o.current.style.height=p+"px";case 15:case"end":return e.stop()}}),e)})))()}),[e.image,c,i,o,j]),r.a.createElement("div",{className:t.canvasWrapper,ref:i},r.a.createElement("div",{className:t.canvas,style:{paddingTop:j.top&&j.size+"px",paddingBottom:j.bottom&&j.size+"px",paddingLeft:j.left&&j.size+"px",paddingRight:j.right&&j.size+"px",backgroundColor:e.image&&j.color,width:!e.image&&"unset"},ref:o},e.image?r.a.createElement("img",{alt:"",src:e.image,className:"meme-image",ref:c,draggable:"false"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{onClick:function(){return e.event.dispatchEvent(new CustomEvent("openTemplatesDialog"))}},r.a.createElement(x.a,{fontSize:"large"})),r.a.createElement(g.a,{onClick:ne},r.a.createElement(E.a,{fontSize:"large"}))),v.map((function(e){var t=e.type,n=e.key,a=e.data;if("textbox"===t)return r.a.createElement(ae,{key:n,id:n,onRemove:Y,handle:l.current[n],grid:S,template:a.template,canvas:o.current});if("sticker"===t)return r.a.createElement(le,{key:n,id:n,onRemove:Y,handle:l.current[n],grid:S,canvas:o.current,src:a.src});throw new Error("Type "+t+" is not defined")}))),r.a.createElement(pe,{config:S,canvas:o.current,border:j}),r.a.createElement(be,{open:R,onClose:function(e){e&&y(e),z(!1)},values:j}),r.a.createElement(gt,{open:P,onClose:function(e){e&&N(e),M(!1)},values:S}),r.a.createElement(ft,{open:W,onClose:X,imageData:_,elements:v}))},Rt=n(228),zt=n(229),Bt=n(227),It=n(125),Wt=n.n(It),Ft=n(126),At=n.n(Ft),Dt=n(128),Pt=n.n(Dt),Mt=n(124),Vt=n.n(Mt),Ht=n(127),_t=n.n(Ht),Ut=n(130),Gt=n(219),Jt=n(220),qt=n(117),Xt=n.n(qt),Yt=n(118),Kt=n.n(Yt),$t=n(119),Qt=n.n($t),Zt=Object(v.a)((function(e){return{icon:{minWidth:e.spacing(4)}}}));var en=function(e){var t=e.open,n=e.anchorEl,c=e.onClose,o=Object(a.useContext)(Mn),i=Zt(),l=function(e){return function(){o.event.dispatchEvent(new CustomEvent(e)),c()}};return r.a.createElement(Ut.a,{open:t,anchorEl:n,onClose:c,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"}},r.a.createElement(C.a,{onClick:l("setBorder")},r.a.createElement(Gt.a,{className:i.icon},r.a.createElement(Xt.a,{fontSize:"small"})),r.a.createElement(Jt.a,{primary:"Border"})),r.a.createElement(C.a,{onClick:l("setGrid")},r.a.createElement(Gt.a,{className:i.icon},r.a.createElement(Kt.a,{fontSize:"small"})),r.a.createElement(Jt.a,{primary:"Grid"})),r.a.createElement(C.a,{onClick:l("importSticker")},r.a.createElement(Gt.a,{className:i.icon},r.a.createElement(Qt.a,{fontSize:"small"})),r.a.createElement(Jt.a,{primary:"Import Sticker"})),r.a.createElement(C.a,{onClick:l("importImage")},r.a.createElement(Gt.a,{className:i.icon},r.a.createElement(E.a,{fontSize:"small"})),r.a.createElement(Jt.a,{primary:o.image?"Replace Meme":"Import Meme"})))},tn=n(216),nn=n(233),an=n(230),rn=n(120),cn=n.n(rn),on=n(236),ln=n(223),sn=n(224),un=n(225),pn=n(74),mn=n.n(pn),dn=n(221),fn=n(222);var bn=function(e){var t=e.onClose,n=e.open,a=e.content;return r.a.createElement(O.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:n},r.a.createElement(me.a,null,"Confirm"),r.a.createElement(dn.a,{dividers:!0},r.a.createElement(he.a,null,a)),r.a.createElement(fn.a,null,r.a.createElement(j.a,{onClick:function(){return t(!1)}},"Cancel"),r.a.createElement(j.a,{onClick:function(){return t(!0)}},"Ok")))},gn=Object(v.a)((function(e){return{spacer:{height:e.spacing(2)},searchWrapper:{margin:"".concat(e.spacing(2),"px ").concat(e.spacing(1),"px"),marginTop:0,padding:"2px 4px",display:"flex"},search:{marginLeft:e.spacing(1),flex:1},searchClear:{padding:e.spacing(1)},listWrapper:{display:"flex",justifyContent:"center",overflow:"hidden"},list:{maxWidth:400,width:"100%"},tile:{cursor:"pointer"},tilebar:{height:56},deleteButton:{zIndex:10,position:"absolute",top:0,left:0}}}));var vn=function(e){var t=e.onLoad,n=Object(a.useContext)(Mn),c=gn(),o=Object(a.useRef)({}),i=Object(a.useState)(),l=Object(u.a)(i,2),s=l[0],p=l[1],m=Object(a.useState)(!1),v=Object(u.a)(m,2),h=v[0],E=v[1],w=Object(a.useState)(""),x=Object(u.a)(w,2),O=x[0],j=x[1],y=function(){Ze(ct("/templates")).then((function(e){return e.json()})).then(function(){var e=Object(b.a)(d.a.mark((function e(t){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(f.a)(t),e.prev=1,n.s();case 3:if((a=n.n()).done){e.next=11;break}return r=a.value,e.next=7,tt(r.image_url);case 7:r.image_url=e.sent,r.meta_data&&(r.meta_data=JSON.parse(r.meta_data));case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));return function(t){return e.apply(this,arguments)}}()).then((function(e){return p(e)}))};if(Object(a.useEffect)((function(){y()}),[]),!s)return r.a.createElement(ge.a,null);var k=s.filter((function(e){return e.label.toLowerCase().includes(O.toLowerCase())}));return k.sort((function(e,t){return t.amount_uses-e.amount_uses})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:c.spacer}),r.a.createElement(ve.a,{variant:"outlined",className:c.searchWrapper},r.a.createElement(on.a,{value:O,onChange:function(e){j(e.target.value)},placeholder:"Search",className:c.search}),r.a.createElement(g.a,{onClick:function(){return j("")},className:c.searchClear},r.a.createElement(G.a,null))),r.a.createElement("div",{className:c.listWrapper},r.a.createElement(ln.a,{cellHeight:150,className:c.list},k.map((function(e,a){return r.a.createElement(sn.a,{key:a,className:c.tile,onClick:function(n){return function(e,n){"DIV"!==e.target.tagName&&"IMG"!==e.target.tagName||t(n)}(n,e)}},r.a.createElement("img",{src:e.image_url,alt:e.label,loading:"lazy",onLoad:function(){return function(e){at(e.image_url)}(e)}}),r.a.createElement(un.a,{title:e.label,subtitle:(i=e.amount_uses,1===i?"1 Meme Created":i+" Memes Created"),className:c.tilebar}),n.password&&r.a.createElement(g.a,{onClick:function(){return function(e){o.current=e,E(!0)}(e)},className:c.deleteButton},r.a.createElement(mn.a,{fontSize:"small"})));var i}))),r.a.createElement(bn,{open:h,onClose:function(e){var t,a;E(!1),e&&(t=n.password,a=o.current.id,fetch(ct("/templates/delete/"+a),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t})})).then(y)},content:'The template "'.concat(o.current.label,'" will be deleted')})))},hn=n(226),En=n(121),wn=n.n(En),xn=Object(v.a)((function(e){return{listWrapper:{display:"flex",justifyContent:"center",overflow:"hidden"},list:{maxWidth:400,paddingTop:e.spacing(1),width:"100%"},tile:{cursor:"pointer","& div":{display:"flex",justifyContent:"center",alignItems:"center"}},deleteButton:{zIndex:10,position:"absolute",top:0,left:0},addButton:{position:"fixed",right:e.spacing(2),bottom:e.spacing(2)}}}));function On(e){var t=e.sticker,n=e.onDelete,c=Object(a.useContext)(Mn),o=xn(),i=Object(a.useRef)();return Object(a.useEffect)((function(){i.current&&(i.current.onload=function(){i.current&&(i.current.naturalWidth>=i.current.naturalHeight?i.current.style.width="100%":i.current.naturalHeight>i.current.naturalWidth&&(i.current.style.height="100%"))})}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:t.image_url,alt:"Sticker",loading:"lazy",ref:i,onLoad:function(){at(t.image_url)}}),c.password&&r.a.createElement(g.a,{onClick:function(){return n(t)},className:o.deleteButton},r.a.createElement(mn.a,{fontSize:"small"})))}var jn=function(e){var t=e.onLoad,n=e.active,c=Object(a.useContext)(Mn),i=xn(),l=Object(a.useRef)({}),s=Object(a.useState)(),p=Object(u.a)(s,2),m=p[0],g=p[1],v=Object(a.useState)(!1),h=Object(u.a)(v,2),E=h[0],w=h[1],x=function(){Ze(ct("/stickers")).then((function(e){return e.json()})).then(function(){var e=Object(b.a)(d.a.mark((function e(t){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(f.a)(t),e.prev=1,n.s();case 3:if((a=n.n()).done){e.next=10;break}return r=a.value,e.next=7,tt(r.image_url);case 7:r.image_url=e.sent;case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:return e.abrupt("return",t);case 19:case"end":return e.stop()}}),e,null,[[1,12,15,18]])})));return function(t){return e.apply(this,arguments)}}()).then((function(e){return g(e)}))},O=function(e){l.current=e,w(!0)},j=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ht("image/*");case 2:return t=e.sent,(n=new FormData).append("image",t),n.append("password",c.password),e.next=8,lt(n);case 8:x();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){x()}),[]),m?(m.sort((function(e,t){return t.amount_uses-e.amount_uses})),r.a.createElement("div",{className:i.listWrapper},r.a.createElement(ln.a,{className:i.list,cols:3},m.map((function(e,n){return r.a.createElement(sn.a,{className:i.tile,onClick:function(n){return function(e,n){"DIV"!==e.target.tagName&&"IMG"!==e.target.tagName||t(n)}(n,e)},key:n},r.a.createElement(On,{sticker:e,onDelete:O}))}))),r.a.createElement(bn,{open:E,onClose:function(e){var t,n;w(!1),e&&(t=c.password,n=l.current.id,fetch(ct("/stickers/delete/"+n),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t})})).then(x)},content:"Sticker ".concat(l.current.id," will be deleted")}),c.password&&o.a.createPortal(r.a.createElement(hn.a,{in:n,unmountOnExit:!0},r.a.createElement(Bt.a,{color:"secondary",className:i.addButton,onClick:j},r.a.createElement(wn.a,null))),document.getElementById("templates-dialog-inner-container")))):r.a.createElement(ge.a,null)},yn=Object(v.a)((function(e){return{toolbar:{minHeight:46},body:{marginTop:46}}})),kn=r.a.forwardRef((function(e,t){return r.a.createElement(tn.a,Object.assign({direction:"up",ref:t},e))}));var Cn=W((function(e){var t=e.onClose,n=e.open,c=Object(a.useContext)(Mn),o=yn({width:c.width}),i=Object(a.useState)(0),l=Object(u.a)(i,2),s=l[0],p=l[1],m=function(){t()},d=function(){document.getElementById("templates-dialog-inner-container").scrollTo(0,0)};return r.a.createElement(O.a,{fullScreen:!0,onClose:m,open:n,TransitionComponent:kn},r.a.createElement(Rt.a,null,r.a.createElement(zt.a,{className:o.toolbar},r.a.createElement(g.a,{edge:"start",color:"inherit",onClick:m},r.a.createElement(G.a,{fontSize:"small"})),r.a.createElement(nn.a,{value:s,onChange:function(e,t){p(t),d()}},r.a.createElement(an.a,{label:"Templates"}),r.a.createElement(an.a,{label:"Stickers"})))),r.a.createElement(cn.a,{index:s,onChangeIndex:function(e){p(e),d()},axis:"x",id:"templates-dialog-inner-container",disableLazyLoading:!0},r.a.createElement("div",{className:o.body},r.a.createElement(vn,{onLoad:function(e){c.event.dispatchEvent(new CustomEvent("loadTemplate",{detail:{template:e}})),m()},active:0===s})),r.a.createElement("div",{className:o.body},r.a.createElement(jn,{onLoad:function(e){c.event.dispatchEvent(new CustomEvent("loadSticker",{detail:{sticker:e}})),m()},active:1===s}))))}),"templates"),Sn=n(235),Nn=n(218),Tn=n(122),Ln=Object(v.a)((function(e){return{innerDialog:{background:"none",overflow:"hidden"}}}));function Rn(e){var t=e.data,n=t.selector,a=t.content,c=e.open,o=document.querySelector(n).getBoundingClientRect();return r.a.createElement(Sn.a,{open:c,placement:"top",arrow:!0,title:a},r.a.createElement("div",{style:{position:"absolute",top:o.top+20,left:o.left,width:o.width+"px",height:o.height+"px"}}))}var zn=W((function(e){var t=e.open,n=e.onClose,a=Ln();return r.a.createElement(O.a,{open:t,onClose:n,fullScreen:!0,PaperProps:{className:a.innerDialog}},r.a.createElement(Nn.a,{onClickAway:n},r.a.createElement("div",null,Tn.map((function(e,n){return r.a.createElement(Rn,{data:e,key:n,open:t})})))))}),"help"),Bn=Object(v.a)((function(e){return{form:{padding:e.spacing(2),paddingTop:0},applyButton:{marginTop:e.spacing(2)},input:{marginTop:e.spacing(1)},snackbarClose:{color:e.palette.primary.variant}}}));var In=W((function(e){var t=e.onClose,n=e.open,c=Object(a.useContext)(Mn),o=Object(y.c)(),i=o.register,l=o.getValues,s=o.handleSubmit,p=o.control,m=o.watch,f=o.setValue,v=Bn(),h=Object(a.useState)(!1),E=Object(u.a)(h,2),w=E[0],x=E[1],C=Object(a.useState)(!1),S=Object(u.a)(C,2),N=S[0],T=S[1],L=function(){var e=Object(b.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l("password"),e.next=3,it(n);case 3:e.sent?(T(!1),x(!0),c.setPassword(n),t()):T(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{onClose:t,open:n},r.a.createElement(me.a,null,"Login"),r.a.createElement(y.b,{control:p,watch:m,register:i,setValue:f},r.a.createElement("form",{onSubmit:s(L),className:v.form},r.a.createElement(de.a,null,r.a.createElement(k.a,{error:N,inputRef:i(),className:v.input,fullWidth:!0,type:"password",name:"password",label:"Password",helperText:N&&"Wrong Password"}),r.a.createElement(j.a,{fullWidth:!0,className:v.applyButton,type:"submit"},"Login"))))),r.a.createElement(Ee.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:w,autoHideDuration:3e3,onClose:function(){return x(!1)},message:"Logged In",action:r.a.createElement(g.a,{onClick:function(){return x(!1)},className:v.snackbarClose},r.a.createElement(G.a,null))}))}),"auth"),Wn=Object(v.a)((function(e){return{appBar:{position:"absolute",top:"unset",bottom:0,left:0,right:"unset",backgroundColor:e.palette.background.paper},fabButton:{position:"absolute",top:-30,left:0,right:0,margin:"0 auto"},spacer:{flexGrow:1}}}));var Fn=function(){var e=Object(a.useContext)(Mn),t=Wn(),n=Object(a.useRef)(),c=Object(a.useRef)(),o=Object(a.useState)(!1),i=Object(u.a)(o,2),l=i[0],s=i[1],p=Object(a.useState)(!1),m=Object(u.a)(p,2),d=m[0],f=m[1],b=Object(a.useState)(!1),v=Object(u.a)(b,2),h=v[0],E=v[1],w=Object(a.useState)(!1),O=Object(u.a)(w,2),j=O[0],y=O[1],k=function(){f(!0)},C=function(){e.password||(c.current=setTimeout((function(){y(!0)}),1e3))},S=function(){clearTimeout(c.current)},N=function(t){return function(){e.event.dispatchEvent(new CustomEvent(t))}};return Object(a.useEffect)((function(){return e.event.addEventListener("openTemplatesDialog",k),function(){e.event.removeEventListener("openTemplatesDialog",k)}})),r.a.createElement(Rt.a,{position:"fixed",className:t.appBar},r.a.createElement(zt.a,null,r.a.createElement(g.a,{onClick:function(){E(!0)},onTouchStart:C,onTouchEnd:S,onMouseDown:C,onMouseUp:S},r.a.createElement(Vt.a,null)),r.a.createElement(g.a,{onClick:k,id:"templates-button"},r.a.createElement(x.a,null)),r.a.createElement("div",{className:t.spacer}),r.a.createElement(Bt.a,{color:"primary",className:t.fabButton,onClick:N("generateImage"),disabled:!e.image},r.a.createElement(Wt.a,null)),r.a.createElement(g.a,{onClick:N("addTextbox"),id:"textbox-button"},r.a.createElement(At.a,null)),r.a.createElement(g.a,{onClick:N("undo"),id:"undo-button"},r.a.createElement(_t.a,null)),r.a.createElement(g.a,{onClick:function(){s(!l)},ref:n},r.a.createElement(Pt.a,null)),r.a.createElement(en,{open:l,anchorEl:n.current,onClose:function(){s(!1)}}),r.a.createElement(Cn,{open:d,onClose:function(){return f(!1)}}),r.a.createElement(zn,{open:h,onClose:function(){return E(!1)}}),r.a.createElement(In,{open:j,onClose:function(){return y(!1)}})))};var An=function(){var e=Object(a.useContext)(Mn),t=Object(a.useState)(!1),n=Object(u.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){e.password||(I.a.initialize("UA-162994094-2"),I.a.pageview(window.location.pathname),c(!0))}),[]),Object(a.useEffect)((function(){if(r){var t=I.a.event.bind(null,Object(s.a)({category:"Editor",action:"Generate Image"},e.currentTemplate?{label:e.currentTemplate.label,value:e.currentTemplate.id}:{})),n=function(e){var t=e.detail.template;return I.a.event({category:"Editor",action:"Load Template",label:t.label,value:t.id})},a=function(){return I.a.modalview("share")},c=function(e){var t=e.detail.link;return I.a.event({category:"Editor",action:"Upload Image",label:t})},o=function(){return I.a.event({category:"Editor",action:"Download Image"})},i=function(e){var t=e.detail.label;return I.a.event({category:"Editor",action:"Share",label:t})};return e.event.addEventListener("generateImage",t),e.event.addEventListener("loadTemplate",n),e.event.addEventListener("openShareModal",a),e.event.addEventListener("uploadImage",c),e.event.addEventListener("downloadImage",o),e.event.addEventListener("share",i),function(){e.event.removeEventListener("generateImage",t),e.event.removeEventListener("loadTemplate",n),e.event.removeEventListener("openShareModal",a),e.event.removeEventListener("uploadImage",c),e.event.removeEventListener("downloadImage",o),e.event.removeEventListener("share",i)}}}),[e,r]),null},Dn=Object(v.a)((function(e){return{snackbarClose:{color:e.palette.primary.variant}}}));var Pn=function(){var e=Dn(),t=Object(a.useState)(!1),n=Object(u.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(""),l=Object(u.a)(i,2),s=l[0],p=l[1];return Object(a.useEffect)((function(){var e=new BroadcastChannel("sw-0");return e.addEventListener("message",(function(e){var t=e.data;"content-cached"===t?(o(!0),p("The app is cached for offline use")):"content-available"===t&&(o(!0),p("A new version is available. Restart the app to see it"))})),function(){return e.close()}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:c,autoHideDuration:6e3,message:s,onClose:function(){return o(!1)},action:r.a.createElement(g.a,{onClick:function(){return o(!1)},className:e.snackbarClose},r.a.createElement(G.a,null))}))},Mn=r.a.createContext();var Vn=function(){var e=Object(a.useState)({event:new EventTarget,image:null,label:null,currentTemplate:null,password:localStorage.getItem("password")}),t=Object(u.a)(e,2),n=t[0],c=t[1],o={set:function(e){return c(Object(s.a)(Object(s.a)({},n),e))},setPassword:function(e){localStorage.setItem("password",e),c(Object(s.a)(Object(s.a)({},n),{},{password:e}))}};return Object(a.useEffect)((function(){var e=function(e){e.data.image&&c(Object(s.a)(Object(s.a)({},n),{},{image:e.data.image,label:e.data.label}))},t=function(e){e.ctrlKey&&90===e.keyCode&&n.event.dispatchEvent(new CustomEvent("undo"))};return window.addEventListener("message",e),window.addEventListener("keydown",t),function(){window.removeEventListener("message",e),window.removeEventListener("keydown",t)}})),r.a.createElement(Mn.Provider,{value:Object(s.a)(Object(s.a)({},n),o)},r.a.createElement(An,null),r.a.createElement(Pn,null),r.a.createElement(Lt,null),r.a.createElement(Fn,null))},Hn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)),_n=new BroadcastChannel("sw-0");function Un(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(_n.postMessage("content-available"),console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(_n.postMessage("content-cached"),console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(171);var Gn=Object(i.a)({palette:{type:"dark",primary:{main:"#BB86FC",variant:"#3700B3"}}});o.a.render(r.a.createElement(l.a,{theme:Gn},r.a.createElement(Vn,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/editor",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/editor","/service-worker.js");Hn?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Un(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Un(t,e)}))}}()},39:function(e){e.exports=JSON.parse('{"colors":{"White":"white","Black":"black","Green":"#2ecc71","Red":"#e74c3c","Blue":"#3498db","Yellow":"#f1c40f","Purple":"#9b59b6"},"textAlign":{"Left":"left","Right":"right","Center":"center"},"verticalTextAlign":{"Top":"top","Bottom":"bottom","Center":"center"},"fontFamilies":{"Impact":"\'Impact\', fantasy","Arial":"Arial","Comic Sans":"\'Comic Sans\', cursive","Courier":"\'Courier\', monospace","Times New Roman":"\'Times New Roman\', \'Times\', serif"}}')}},[[140,1,2]]]);
//# sourceMappingURL=main.48cf5fe4.chunk.js.map